<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>mesh · Makie.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="index.html"><img class="logo" src="assets/logo.png" alt="Makie.jl logo"/></a><h1>Makie.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Home</a></li><li><span class="toctext">Basics</span><ul><li><a class="toctext" href="help_functions.html">Help functions</a></li><li><a class="toctext" href="functions-overview.html">Atomic functions overview</a></li><li><a class="toctext" href="signatures.html">Plot function signatures</a></li><li><a class="toctext" href="attributes.html">Plot attributes</a></li><li><a class="toctext" href="interaction.html">Interaction</a></li><li><a class="toctext" href="output.html">Output</a></li></ul></li><li><span class="toctext">Examples</span><ul><li><a class="toctext" href="examples-heatmap.html"><code>heatmap</code></a></li><li><a class="toctext" href="examples-image.html"><code>image</code></a></li><li><a class="toctext" href="examples-lines.html"><code>lines</code></a></li><li><a class="toctext" href="examples-linesegments.html"><code>linesegments</code></a></li><li class="current"><a class="toctext" href="examples-mesh.html"><code>mesh</code></a><ul class="internal"><li><a class="toctext" href="#&quot;FEM-mesh-2D&quot;-1">&quot;FEM mesh 2D&quot;</a></li><li><a class="toctext" href="#&quot;colored-triangle&quot;-1">&quot;colored triangle&quot;</a></li><li><a class="toctext" href="#&quot;FEM-mesh-3D&quot;-1">&quot;FEM mesh 3D&quot;</a></li><li><a class="toctext" href="#&quot;Fluctuation-3D&quot;-1">&quot;Fluctuation 3D&quot;</a></li><li><a class="toctext" href="#&quot;Normals-of-a-Cat&quot;-1">&quot;Normals of a Cat&quot;</a></li><li><a class="toctext" href="#&quot;Sphere-Mesh&quot;-1">&quot;Sphere Mesh&quot;</a></li><li><a class="toctext" href="#&quot;Textured-Mesh&quot;-1">&quot;Textured Mesh&quot;</a></li><li><a class="toctext" href="#&quot;Load-Mesh&quot;-1">&quot;Load Mesh&quot;</a></li><li><a class="toctext" href="#&quot;Colored-Mesh&quot;-1">&quot;Colored Mesh&quot;</a></li><li><a class="toctext" href="#&quot;Wireframe-of-a-Mesh&quot;-1">&quot;Wireframe of a Mesh&quot;</a></li></ul></li><li><a class="toctext" href="examples-meshscatter.html"><code>meshscatter</code></a></li><li><a class="toctext" href="examples-scatter.html"><code>scatter</code></a></li><li><a class="toctext" href="examples-surface.html"><code>surface</code></a></li><li><a class="toctext" href="examples-text.html"><code>text</code></a></li><li><a class="toctext" href="examples-volume.html"><code>volume</code></a></li><li><a class="toctext" href="examples-contour.html"><code>contour</code></a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Examples</li><li><a href="examples-mesh.html"><code>mesh</code></a></li></ul><a class="edit-page" href="https://github.com/JuliaPlots/Makie.jl/blob/master/docs/src/examples-mesh.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>mesh</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="mesh-1" href="#mesh-1"><code>mesh</code></a></h1><h2><a class="nav-anchor" id="&quot;FEM-mesh-2D&quot;-1" href="#&quot;FEM-mesh-2D&quot;-1">&quot;FEM mesh 2D&quot;</a></h2><p>Tags: <code>2d</code>, <code>fem</code>, <code>mesh</code>.</p><pre><code class="language-julia">coordinates = [
    0.0 0.0;
    0.5 0.0;
    1.0 0.0;
    0.0 0.5;
    0.5 0.5;
    1.0 0.5;
    0.0 1.0;
    0.5 1.0;
    1.0 1.0;
]
connectivity = [
    1 2 5;
    1 4 5;
    2 3 6;
    2 5 6;
    4 5 8;
    4 7 8;
    5 6 9;
    5 8 9;
]
color = [0.0, 0.0, 0.0, 0.0, -0.375, 0.0, 0.0, 0.0, 0.0]
scene = mesh(coordinates, connectivity, color = color, shading = false)
wireframe!(scene[end][1], color = (:black, 0.6), linewidth = 3)
</code></pre><p><img src="../media/fem_mesh_2d.png" alt="library lines 38:61"/></p><h2><a class="nav-anchor" id="&quot;colored-triangle&quot;-1" href="#&quot;colored-triangle&quot;-1">&quot;colored triangle&quot;</a></h2><p>Tags: <code>2d</code>, <code>mesh</code>, <code>polygon</code>.</p><pre><code class="language-julia">mesh(
    [(0.0, 0.0), (0.5, 1.0), (1.0, 0.0)], color = [:red, :green, :blue],
    shading = false
)
</code></pre><p><img src="../media/colored_triangle.png" alt="library lines 64:64"/></p><h2><a class="nav-anchor" id="&quot;FEM-mesh-3D&quot;-1" href="#&quot;FEM-mesh-3D&quot;-1">&quot;FEM mesh 3D&quot;</a></h2><p>Tags: <code>3d</code>, <code>fem</code>, <code>mesh</code>.</p><pre><code class="language-julia">using GeometryTypes

cat = Makie.loadasset(&quot;cat.obj&quot;)
vertices = decompose(Point3f0, cat)
faces = decompose(Face{3, Int}, cat)
coordinates = [vertices[i][j] for i = 1:length(vertices), j = 1:3]
connectivity = [faces[i][j] for i = 1:length(faces), j = 1:3]
mesh(
    coordinates, connectivity,
    color = rand(length(vertices))
)
</code></pre><p><img src="../media/fem_mesh_3d.png" alt="library lines 164:170"/></p><h2><a class="nav-anchor" id="&quot;Fluctuation-3D&quot;-1" href="#&quot;Fluctuation-3D&quot;-1">&quot;Fluctuation 3D&quot;</a></h2><p>Tags: <code>3d</code>, <code>animated</code>, <code>axis</code>, <code>mesh</code>, <code>meshscatter</code>.</p><pre><code class="language-julia">using GeometryTypes, Colors

scene = Scene()
# define points/edges
perturbfactor = 4e1
N = 3; nbfacese = 30; radius = 0.02
large_sphere = Sphere(Point3f0(0), 1f0)
positions = decompose(Point3f0, large_sphere, 30)
np = length(positions)
pts = [positions[k][l] for k = 1:length(positions), l = 1:3]
pts = vcat(pts, 1.1 * pts + randn(size(pts)) / perturbfactor) # light position influence ?
edges = hcat(collect(1:np), collect(1:np) + np)
ne = size(edges, 1); np = size(pts, 1)
# define markers meshes
meshC = GLNormalMesh(
    Makie.Cylinder{3, Float32}(
        Point3f0(0., 0., 0.),
        Point3f0(0., 0, 1.),
        Float32(1)
    ), nbfacese
)
meshS = GLNormalMesh(large_sphere, 20)
# define colors, markersizes and rotations
pG = [Point3f0(pts[k, 1], pts[k, 2], pts[k, 3]) for k = 1:np]
lengthsC = sqrt.(sum((pts[edges[:,1], :] .- pts[edges[:, 2], :]) .^ 2, 2))
sizesC = [Vec3f0(radius, radius, lengthsC[i]) for i = 1:ne]
sizesC = [Vec3f0(1., 1., 1.) for i = 1:ne]
colorsp = [RGBA{Float32}(rand(), rand(), rand(), 1.) for i = 1:np]
colorsC = [(colorsp[edges[i, 1]] + colorsp[edges[i, 2]]) / 2. for i = 1:ne]
sizesC = [Vec3f0(radius, radius, lengthsC[i]) for i = 1:ne]
Qlist = zeros(ne, 4)
for k = 1:ne
    ct = GeometryTypes.Cylinder{3, Float32}(
        Point3f0(pts[edges[k, 1], 1], pts[edges[k, 1], 2], pts[edges[k, 1], 3]),
        Point3f0(pts[edges[k, 2], 1], pts[edges[k, 2], 2], pts[edges[k, 2], 3]),
        Float32(1)
    )
    Q = GeometryTypes.rotation(ct)
    r = 0.5 * sqrt(1 + Q[1, 1] + Q[2, 2] + Q[3, 3]); Qlist[k, 4] = r
    Qlist[k, 1] = (Q[3, 2] - Q[2, 3]) / (4 * r)
    Qlist[k, 2] = (Q[1, 3] - Q[3, 1]) / (4 * r)
    Qlist[k, 3] = (Q[2, 1] - Q[1, 2]) / (4 * r)
end
rotationsC = [Makie.Vec4f0(Qlist[i, 1], Qlist[i, 2], Qlist[i, 3], Qlist[i, 4]) for i = 1:ne]
# plot
hm = meshscatter!(
    scene, pG[edges[:, 1]],
    color = colorsC, marker = meshC,
    markersize = sizesC,  rotations = rotationsC,
)
hp = meshscatter!(
    scene, pG,
    color = colorsp, marker = meshS, markersize = radius,
)
</code></pre><p><img src="../media/fluctuation_3d.png" alt="library lines 218:267"/></p><h2><a class="nav-anchor" id="&quot;Normals-of-a-Cat&quot;-1" href="#&quot;Normals-of-a-Cat&quot;-1">&quot;Normals of a Cat&quot;</a></h2><p>Tags: <code>3d</code>, <code>cat</code>, <code>linesegment</code>, <code>mesh</code>.</p><pre><code class="language-julia">x = Makie.loadasset(&quot;cat.obj&quot;)
mesh(x, color = :black)
pos = map(x.vertices, x.normals) do p, n
    p =&gt; p .+ (normalize(n) .* 0.05f0)
end
linesegments!(pos, color = :blue)
</code></pre><p><img src="../media/normals_of_a_cat.png" alt="library lines 318:323"/></p><h2><a class="nav-anchor" id="&quot;Sphere-Mesh&quot;-1" href="#&quot;Sphere-Mesh&quot;-1">&quot;Sphere Mesh&quot;</a></h2><p>Tags: <code>3d</code>, <code>mesh</code>.</p><pre><code class="language-julia">mesh(Sphere(Point3f0(0), 1f0), color = :blue)
</code></pre><p><img src="../media/sphere_mesh.png" alt="library lines 327:327"/></p><h2><a class="nav-anchor" id="&quot;Textured-Mesh&quot;-1" href="#&quot;Textured-Mesh&quot;-1">&quot;Textured Mesh&quot;</a></h2><p>Tags: <code>3d</code>, <code>cat</code>, <code>documentation</code>, <code>mesh</code>, <code>texture</code>.</p><pre><code class="language-julia">using FileIO

scene = Scene(resolution = (500, 500))
catmesh = FileIO.load(Makie.assetpath(&quot;cat.obj&quot;), GLNormalUVMesh)
mesh(catmesh, color = Makie.loadasset(&quot;diffusemap.tga&quot;))
</code></pre><p><img src="../media/textured_mesh.png" alt="library lines 503:506"/></p><h2><a class="nav-anchor" id="&quot;Load-Mesh&quot;-1" href="#&quot;Load-Mesh&quot;-1">&quot;Load Mesh&quot;</a></h2><p>Tags: <code>3d</code>, <code>cat</code>, <code>documentation</code>, <code>mesh</code>.</p><pre><code class="language-julia">mesh(Makie.loadasset(&quot;cat.obj&quot;))
</code></pre><p><img src="../media/load_mesh.png" alt="library lines 509:509"/></p><h2><a class="nav-anchor" id="&quot;Colored-Mesh&quot;-1" href="#&quot;Colored-Mesh&quot;-1">&quot;Colored Mesh&quot;</a></h2><p>Tags: <code>3d</code>, <code>axis</code>, <code>documentation</code>, <code>mesh</code>.</p><pre><code class="language-julia">x = [0, 1, 2, 0]
y = [0, 0, 1, 2]
z = [0, 2, 0, 1]
color = [:red, :green, :blue, :yellow]
i = [0, 0, 0, 1]
j = [1, 2, 3, 2]
k = [2, 3, 1, 3]
# indices interpreted as triangles (every 3 sequential indices)
indices = [1, 2, 3,   1, 3, 4,   1, 4, 2,   2, 3, 4]
mesh(x, y, z, indices, color = color)
</code></pre><p><img src="../media/colored_mesh.png" alt="library lines 512:521"/></p><h2><a class="nav-anchor" id="&quot;Wireframe-of-a-Mesh&quot;-1" href="#&quot;Wireframe-of-a-Mesh&quot;-1">&quot;Wireframe of a Mesh&quot;</a></h2><p>Tags: <code>3d</code>, <code>cat</code>, <code>documentation</code>, <code>mesh</code>, <code>wireframe</code>.</p><pre><code class="language-julia">wireframe(Makie.loadasset(&quot;cat.obj&quot;))
</code></pre><p><img src="../media/wireframe_of_a_mesh.png" alt="library lines 524:524"/></p><footer><hr/><a class="previous" href="examples-linesegments.html"><span class="direction">Previous</span><span class="title"><code>linesegments</code></span></a><a class="next" href="examples-meshscatter.html"><span class="direction">Next</span><span class="title"><code>meshscatter</code></span></a></footer></article></body></html>
