<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>contour · Makie.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="index.html"><img class="logo" src="assets/logo.png" alt="Makie.jl logo"/></a><h1>Makie.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Home</a></li><li><span class="toctext">Basics</span><ul><li><a class="toctext" href="basic-tutorials.html">Tutorial</a></li><li><a class="toctext" href="help_functions.html">Help functions</a></li><li><a class="toctext" href="functions-overview.html">Atomic functions overview</a></li><li><a class="toctext" href="signatures.html">Plot function signatures</a></li><li><a class="toctext" href="plot-attributes.html">Plot attributes</a></li><li><a class="toctext" href="axis.html">Axis</a></li><li><a class="toctext" href="interaction.html">Interaction</a></li><li><a class="toctext" href="output.html">Output</a></li></ul></li><li><span class="toctext">Examples</span><ul><li><a class="toctext" href="index-examples.html">Examples index</a></li><li><a class="toctext" href="examples-heatmap.html"><code>heatmap</code></a></li><li><a class="toctext" href="examples-image.html"><code>image</code></a></li><li><a class="toctext" href="examples-lines.html"><code>lines</code></a></li><li><a class="toctext" href="examples-linesegments.html"><code>linesegments</code></a></li><li><a class="toctext" href="examples-mesh.html"><code>mesh</code></a></li><li><a class="toctext" href="examples-meshscatter.html"><code>meshscatter</code></a></li><li><a class="toctext" href="examples-scatter.html"><code>scatter</code></a></li><li><a class="toctext" href="examples-surface.html"><code>surface</code></a></li><li><a class="toctext" href="examples-text.html"><code>text</code></a></li><li><a class="toctext" href="examples-volume.html"><code>volume</code></a></li><li class="current"><a class="toctext" href="examples-contour.html"><code>contour</code></a><ul class="internal"><li><a class="toctext" href="#Contour-Function-1">Contour Function</a></li><li><a class="toctext" href="#contour-2">contour</a></li><li><a class="toctext" href="#D-Contour-with-2D-contour-slices-1">3D Contour with 2D contour slices</a></li><li><a class="toctext" href="#Surface-wireframe-contour-1">Surface + wireframe + contour</a></li><li><a class="toctext" href="#Implicit-equation-1">Implicit equation</a></li><li><a class="toctext" href="#Cube-lattice-1">Cube lattice</a></li><li><a class="toctext" href="#Twisty-cube-thing-1">Twisty cube thing</a></li><li><a class="toctext" href="#Spacecraft-from-a-galaxy-far,-far-away-1">Spacecraft from a galaxy far, far away</a></li></ul></li><li><a class="toctext" href="examples-arrows.html"><code>arrows</code></a></li><li><a class="toctext" href="examples-barplot.html"><code>barplot</code></a></li><li><a class="toctext" href="examples-poly.html"><code>poly</code></a></li></ul></li><li><span class="toctext">Developer Documentation</span><ul><li><a class="toctext" href="why-makie.html">Why <code>Makie</code>?</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Examples</li><li><a href="examples-contour.html"><code>contour</code></a></li></ul><a class="edit-page" href="https://github.com/JuliaPlots/Makie.jl/blob/master/docs/src/examples-contour.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>contour</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="contour-1" href="#contour-1"><code>contour</code></a></h1><h2><a class="nav-anchor" id="Contour-Function-1" href="#Contour-Function-1">Contour Function</a></h2><p>Tags: <code>2d</code>, <code>contour</code>.</p><pre><code class="language-julia">using Makie

r = linspace(-10, 10, 512)
z = ((x, y)-&gt; sin(x) + cos(y)).(r, r&#39;)
contour(r, r, z, levels = 5, color = :viridis, linewidth = 3)

</code></pre><p><img src="media/contour_function.jpg" alt="library lines 146:148"/></p><h2><a class="nav-anchor" id="contour-2" href="#contour-2">contour</a></h2><p>Tags: <code>2d</code>, <code>contour</code>.</p><pre><code class="language-julia">using Makie

y = linspace(-0.997669, 0.997669, 23)
contour(linspace(-0.99, 0.99, 23), y, rand(23, 23), levels = 10)

</code></pre><p><img src="media/contour_1.jpg" alt="library lines 153:154"/></p><h2><a class="nav-anchor" id="D-Contour-with-2D-contour-slices-1" href="#D-Contour-with-2D-contour-slices-1">3D Contour with 2D contour slices</a></h2><p>Tags: <code>3d</code>, <code>contour</code>, <code>heatmap</code>, <code>transformation</code>, <code>volume</code>.</p><pre><code class="language-julia">using Makie

function test(x, y, z)
    xy = [x, y, z]
    ((xy&#39;) * eye(3, 3) * xy) / 20
end
x = linspace(-2pi, 2pi, 100)
scene = Scene()
c = contour!(scene, x, x, x, test, levels = 6, alpha = 0.3)[end]
xm, ym, zm = minimum(scene.limits[])
# c[4] == fourth argument of the above plotting command
contour!(scene, x, x, map(v-&gt; v[1, :, :], c[4]), transformation = (:xy, zm), linewidth = 10)
heatmap!(scene, x, x, map(v-&gt; v[:, 1, :], c[4]), transformation = (:xz, ym))
contour!(scene, x, x, map(v-&gt; v[:, :, 1], c[4]), fillrange = true, transformation = (:yz, xm))

</code></pre><p><img src="media/3d_contour_with_2d_contour_slices.jpg" alt="library lines 119:130"/></p><h2><a class="nav-anchor" id="Surface-wireframe-contour-1" href="#Surface-wireframe-contour-1">Surface + wireframe + contour</a></h2><p>Tags: <code>3d</code>, <code>contour</code>, <code>surface</code>, <code>transformation</code>, <code>wireframe</code>.</p><pre><code class="language-julia">using Makie

N = 51
x = linspace(-2, 2, N)
y = x
z = (-x .* exp.(-x .^ 2 .- (y&#39;) .^ 2)) .* 4

scene = wireframe(x, y, z)
xm, ym, zm = minimum(scene.limits[])
scene = surface!(scene, x, y, z)
contour!(scene, x, y, z, levels = 15, linewidth = 2, transformation = (:xy, zm))
scene

</code></pre><p><img src="media/surface___wireframe___contour.jpg" alt="library lines 505:514"/></p><h2><a class="nav-anchor" id="Implicit-equation-1" href="#Implicit-equation-1">Implicit equation</a></h2><p>Tags: <code>2d</code>, <code>contour</code>, <code>implicit</code>, <code>implicits</code>.</p><pre><code class="language-julia">using Makie

r = linspace(-5, 5, 400)
(a, b) = -1, 2
z = ((x,y) -&gt; y.^4 - x.^4 + a .* y.^2 + b .* x.^2).(r, r&#39;)
z2 =  z .* (abs.(z) .&lt; 250)
contour(r, r, z2)

</code></pre><p><img src="media/implicit_equation.jpg" alt="library lines 4:8"/></p><h2><a class="nav-anchor" id="Cube-lattice-1" href="#Cube-lattice-1">Cube lattice</a></h2><p>Tags: <code>3d</code>, <code>colormap</code>, <code>contour</code>, <code>implicit</code>, <code>implicits</code>.</p><pre><code class="language-julia">using Makie

r = linspace(-3, 3, 100)
me = [((1 ./ x).^2 + (1 ./ y).^2 + (1 ./ z).^2) for x=r, y=r, z=r]
me2 = me .* (abs.(me) .&gt; 1.5)
contour(me2, color = :Set2)

</code></pre><p><img src="media/cube_lattice.jpg" alt="library lines 12:15"/></p><h2><a class="nav-anchor" id="Twisty-cube-thing-1" href="#Twisty-cube-thing-1">Twisty cube thing</a></h2><p>Tags: <code>3d</code>, <code>colormap</code>, <code>colorrange</code>, <code>contour</code>, <code>implicit</code>, <code>implicits</code>.</p><pre><code class="language-julia">using Makie

(a, b) = -1, 2
r = linspace(-2, 2, 100)
z = ((x,y) -&gt; x + y).(r, r&#39;) ./ 5
me = [z .* sin.(3 .* (atan.(y ./ x) .+ z.^2 .+ pi .* (x .&gt; 0))) for x=r, y=r, z=r]
me2 = me .* (me .&gt; z .* 0.25)
contour(me2, levels = 6, colormap = :Spectral)

</code></pre><p><img src="media/twisty_cube_thing.jpg" alt="library lines 46:51"/></p><h2><a class="nav-anchor" id="Spacecraft-from-a-galaxy-far,-far-away-1" href="#Spacecraft-from-a-galaxy-far,-far-away-1">Spacecraft from a galaxy far, far away</a></h2><p>Tags: <code>3d</code>, <code>colormap</code>, <code>colorrange</code>, <code>contour</code>, <code>implicit</code>, <code>implicits</code>, <code>inequalities</code>, <code>surface</code>.</p><pre><code class="language-julia">using Makie

N = 100
r = linspace(-1, 1, N)

# bunch of equations and inequalities
f1(x,y,z) = x.^2 .+ y.^2 .+ z.^2 #center sphere
f2(x,y,z) = y.^2 .+ z.^2 #command deck cylinder thing
f3(x,y,z) = x.^2 .+ 4 .* y.^2 #controls the flattened cylinder connecting center pod to wings
f4(x,y,z) = (y .* 0.7 .+ 0.05) #defines the diagonal spokes
f5(x,y,z) = (y .* 0.7 .- 0.05) #defines the diagonal spokes
f6(x,y,z) = abs.(x) + 0.3 .* abs.(y) #frame part of the wings

e1(x,y,z) = 0.12 .* (1 .- abs.(z)) #limits of a hexagonal tube in the inside of the craft
e2(x,y,z) = abs.(z) .* (abs.(z) .&lt; 0.95) #outer limits of the wing plane
e3(x,y,z) = abs.(z) .* (abs.(z) .&gt; 0.9) #inner limits of the wing plane
e4(x,y,z) = (abs.(x) + abs.(0.3 .*y)) .* ((abs.(x) + abs.(0.3 .* y)) .&lt; 1) #frame of the wings
e5(x,y,z) = abs.(z) .* (abs.(z) .&lt; 1.05) #outside thickness of wing frames, including the spokes
e6(x,y,z) = abs.(z) .* (abs.(z) .&gt; 0.80) #inside thickness of wing frames, including the spokes
e7(x,y,z) = abs.(x) .* (abs.(x) .&lt; 0.7) #length of the straight bars part of frames
e8(x,y,z) = abs.(y) .* (abs.(y) .&gt; 0.9) #width of the straight bars part of frames
e9(x,y,z) = abs.(y) .* (abs.(y) .&lt; 0.035) #the thickness of the horizontal reinforcing bar on the wing planes

amp = 15 #this just amplifies the &quot;strength&quot; of a volume, so that it shows up more clearly in the plot

# spawn the tie fighter
me = [(f1(x,y,z) .* f1(x,y,z).&lt;0.2) .+ ((f2(x,y,z) .* f2(x,y,z).&lt;0.02).*((x.&lt;0.68).*(x.&gt;0.50))) .+ amp .* (f3(x,y,z) .* (f3(x,y,z) .&lt; e1(x,y,z))) .+ (e2(x,y,z).*e3(x,y,z).*e4(x,y,z)) .+ (e5(x,y,z).*e6(x,y,z)).*((e7(x,y,z)).*(e8(x,y,z)) .+ e9(x,y,z) .+ ((x.&gt;f5(x,y,z)).*x).*((x.&lt;f4(x,y,z)).*x) .+ ((-x.&gt;f5(x,y,z)).*x).*((-x.&lt;f4(x,y,z)).*x) .+ ((f6(x,y,z).*(f6(x,y,z).&lt;1.05)).*(f6(x,y,z).*(f6(x,y,z).&gt;0.95)))) for x=r, y=r, z=r]

me2 = me
for i = 1:length(r)
    me2[:,:,i] = me2[:,:,i] - min(me2[:,:,i]...)
    me2[:,:,i] = me2[:,:,i] ./ max(me2[:,:,i]...)
end
volume(me2, algorithm = :mip, colormap = :Purples, colorrange = (0,0.6))

</code></pre><p><img src="media/spacecraft_from_a_galaxy_far,_far_away.jpg" alt="library lines 55:86"/></p><footer><hr/><a class="previous" href="examples-volume.html"><span class="direction">Previous</span><span class="title"><code>volume</code></span></a><a class="next" href="examples-arrows.html"><span class="direction">Next</span><span class="title"><code>arrows</code></span></a></footer></article></body></html>
